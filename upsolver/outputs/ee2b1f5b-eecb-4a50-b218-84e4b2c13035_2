{
  "clazz" : "OutputTemplate",
  "useNewEscaping" : false,
  "supportMapSameKeyMultipleTimes" : false,
  "id" : "ee2b1f5b-eecb-4a50-b218-84e4b2c13035_2",
  "displayData" : {
    "name" : "mq_an_inventory_purchase",
    "description" : "Duplicate of mq_an_inventory_purchase_v3",
    "creationTime" : "2021-04-14T09:37:13.489176Z",
    "createdBy" : "Roby Jacob (roby.jacob@hashcube.com)",
    "modifiedTime" : "2021-04-17T08:36:54.723921Z",
    "modifiedBy" : {
      "value" : "Roby Jacob (roby.jacob@hashcube.com)"
    },
    "versionId" : "af649ba4-3352-4b60-97cf-39e56816c7f7"
  },
  "inputs" : [ "3a7aa57c-b572-46b6-8eba-0bc7ef07a86c" ],
  "organizationId" : "33b7cf17-9f45-4e72-824d-10bd03e88dde",
  "groupBy" : false,
  "computeEnvironment" : "e3758dc9-1775-4904-9704-29afbbbc0885",
  "outputParameters" : {
    "clazz" : "CompositeHiveMetastoreOutputParameters",
    "outputFields" : [ {
      "clazz" : "RawCalculatedFieldOutput",
      "outputs" : [ ],
      "featureDefinition" : {
        "clazz" : "FeatureDefinition",
        "dsl" : "UNIX_EPOCH_TO_DATE(time:number)",
        "field" : {
          "name" : "event_time",
          "nativeType" : {
            "name" : "instant",
            "isArray" : false,
            "subFields" : [ ]
          }
        },
        "featureInputs" : [ {
          "clazz" : "FieldFeatureInput",
          "nativeType" : {
            "name" : "number",
            "isArray" : false,
            "subFields" : [ ]
          },
          "field" : {
            "name" : "time",
            "nativeType" : {
              "name" : "number",
              "isArray" : false,
              "subFields" : [ ]
            }
          },
          "isAggregationField" : false,
          "isFromInline" : false
        } ],
        "feature" : {
          "clazz" : "NumericFeatures$EpochMillisToInstant"
        },
        "inline" : false,
        "id" : "db1a10e0-b4fd-692b-a794-68cd905a13ea",
        "infix" : false,
        "blockId" : "f4e30b3a-cc94-4328-8942-16367b87f88f",
        "pathForRead" : { }
      }
    }, {
      "clazz" : "RawCalculatedFieldOutput",
      "outputs" : [ ],
      "featureDefinition" : {
        "clazz" : "FeatureDefinition",
        "dsl" : "UNIX_EPOCH_TO_DATE(time:number)",
        "field" : {
          "name" : "partition_date",
          "nativeType" : {
            "name" : "instant",
            "isArray" : false,
            "subFields" : [ ]
          }
        },
        "featureInputs" : [ {
          "clazz" : "FieldFeatureInput",
          "nativeType" : {
            "name" : "number",
            "isArray" : false,
            "subFields" : [ ]
          },
          "field" : {
            "name" : "time",
            "nativeType" : {
              "name" : "number",
              "isArray" : false,
              "subFields" : [ ]
            }
          },
          "isAggregationField" : false,
          "isFromInline" : false
        } ],
        "feature" : {
          "clazz" : "NumericFeatures$EpochMillisToInstant"
        },
        "inline" : false,
        "id" : "2a5bb717-4cbb-72a4-7645-ce4a347c9196",
        "infix" : false,
        "blockId" : "f4e30b3a-cc94-4328-8942-16367b87f88f",
        "pathForRead" : { }
      }
    }, {
      "clazz" : "RawCalculatedFieldOutput",
      "outputs" : [ ],
      "featureDefinition" : {
        "clazz" : "FeatureDefinition",
        "dsl" : "UNIX_EPOCH_TO_DATE(data.date_time:number)",
        "field" : {
          "name" : "date_time",
          "nativeType" : {
            "name" : "instant",
            "isArray" : false,
            "subFields" : [ ]
          }
        },
        "featureInputs" : [ {
          "clazz" : "FieldFeatureInput",
          "nativeType" : {
            "name" : "number",
            "isArray" : false,
            "subFields" : [ ]
          },
          "field" : {
            "name" : "data.date_time",
            "nativeType" : {
              "name" : "number",
              "isArray" : false,
              "subFields" : [ ]
            }
          },
          "isAggregationField" : false,
          "isFromInline" : false
        } ],
        "feature" : {
          "clazz" : "NumericFeatures$EpochMillisToInstant"
        },
        "inline" : false,
        "id" : "e7c78f1f-5b6d-45d4-aedb-f064f7a6e286",
        "infix" : false,
        "blockId" : "f4e30b3a-cc94-4328-8942-16367b87f88f",
        "pathForRead" : { }
      }
    }, {
      "clazz" : "RawCalculatedFieldOutput",
      "outputs" : [ {
        "name" : "platform",
        "index" : 15,
        "warnings" : [ ],
        "originalOutput" : {
          "name" : "platform",
          "index" : 15,
          "warnings" : [ ]
        }
      } ],
      "featureDefinition" : {
        "clazz" : "FeatureDefinition",
        "dsl" : "CASE  WHEN CONTAINS(data.uid:string, 'Android') THEN 'Google' WHEN CONTAINS(data.uid:string, 'Amazon') THEN 'Amazon' WHEN CONTAINS(data.uid:string, 'fb') THEN 'Browser' WHEN CONTAINS(data.uid:string, 'IP') THEN 'Apple' END",
        "field" : {
          "name" : "platform",
          "nativeType" : {
            "name" : "string",
            "isArray" : false,
            "subFields" : [ ]
          }
        },
        "featureInputs" : [ {
          "clazz" : "InlineFeatureInput",
          "nativeType" : {
            "name" : "boolean",
            "isArray" : false,
            "subFields" : [ ]
          },
          "dsl" : "CONTAINS(data.uid:string, 'Android')",
          "feature" : {
            "clazz" : "StringFeatures$ContainsFilter"
          },
          "featureInputs" : [ {
            "clazz" : "FieldFeatureInput",
            "nativeType" : {
              "name" : "string",
              "isArray" : false,
              "subFields" : [ ]
            },
            "field" : {
              "name" : "data.uid",
              "nativeType" : {
                "name" : "string",
                "isArray" : false,
                "subFields" : [ ]
              }
            },
            "isAggregationField" : false,
            "isFromInline" : false
          }, {
            "clazz" : "LiteralFeatureInput",
            "literal" : "Android",
            "nativeType" : {
              "name" : "string",
              "isArray" : false,
              "subFields" : [ ]
            }
          } ],
          "infix" : false
        }, {
          "clazz" : "LiteralFeatureInput",
          "literal" : "Google",
          "nativeType" : {
            "name" : "string",
            "isArray" : false,
            "subFields" : [ ]
          }
        }, {
          "clazz" : "InlineFeatureInput",
          "nativeType" : {
            "name" : "boolean",
            "isArray" : false,
            "subFields" : [ ]
          },
          "dsl" : "CONTAINS(data.uid:string, 'Amazon')",
          "feature" : {
            "clazz" : "StringFeatures$ContainsFilter"
          },
          "featureInputs" : [ {
            "clazz" : "FieldFeatureInput",
            "nativeType" : {
              "name" : "string",
              "isArray" : false,
              "subFields" : [ ]
            },
            "field" : {
              "name" : "data.uid",
              "nativeType" : {
                "name" : "string",
                "isArray" : false,
                "subFields" : [ ]
              }
            },
            "isAggregationField" : false,
            "isFromInline" : false
          }, {
            "clazz" : "LiteralFeatureInput",
            "literal" : "Amazon",
            "nativeType" : {
              "name" : "string",
              "isArray" : false,
              "subFields" : [ ]
            }
          } ],
          "infix" : false
        }, {
          "clazz" : "LiteralFeatureInput",
          "literal" : "Amazon",
          "nativeType" : {
            "name" : "string",
            "isArray" : false,
            "subFields" : [ ]
          }
        }, {
          "clazz" : "InlineFeatureInput",
          "nativeType" : {
            "name" : "boolean",
            "isArray" : false,
            "subFields" : [ ]
          },
          "dsl" : "CONTAINS(data.uid:string, 'fb')",
          "feature" : {
            "clazz" : "StringFeatures$ContainsFilter"
          },
          "featureInputs" : [ {
            "clazz" : "FieldFeatureInput",
            "nativeType" : {
              "name" : "string",
              "isArray" : false,
              "subFields" : [ ]
            },
            "field" : {
              "name" : "data.uid",
              "nativeType" : {
                "name" : "string",
                "isArray" : false,
                "subFields" : [ ]
              }
            },
            "isAggregationField" : false,
            "isFromInline" : false
          }, {
            "clazz" : "LiteralFeatureInput",
            "literal" : "fb",
            "nativeType" : {
              "name" : "string",
              "isArray" : false,
              "subFields" : [ ]
            }
          } ],
          "infix" : false
        }, {
          "clazz" : "LiteralFeatureInput",
          "literal" : "Browser",
          "nativeType" : {
            "name" : "string",
            "isArray" : false,
            "subFields" : [ ]
          }
        }, {
          "clazz" : "InlineFeatureInput",
          "nativeType" : {
            "name" : "boolean",
            "isArray" : false,
            "subFields" : [ ]
          },
          "dsl" : "CONTAINS(data.uid:string, 'IP')",
          "feature" : {
            "clazz" : "StringFeatures$ContainsFilter"
          },
          "featureInputs" : [ {
            "clazz" : "FieldFeatureInput",
            "nativeType" : {
              "name" : "string",
              "isArray" : false,
              "subFields" : [ ]
            },
            "field" : {
              "name" : "data.uid",
              "nativeType" : {
                "name" : "string",
                "isArray" : false,
                "subFields" : [ ]
              }
            },
            "isAggregationField" : false,
            "isFromInline" : false
          }, {
            "clazz" : "LiteralFeatureInput",
            "literal" : "IP",
            "nativeType" : {
              "name" : "string",
              "isArray" : false,
              "subFields" : [ ]
            }
          } ],
          "infix" : false
        }, {
          "clazz" : "LiteralFeatureInput",
          "literal" : "Apple",
          "nativeType" : {
            "name" : "string",
            "isArray" : false,
            "subFields" : [ ]
          }
        } ],
        "feature" : {
          "clazz" : "AnyFeatures$CaseWhen"
        },
        "inline" : false,
        "id" : "21350e3e-bfe5-424d-f778-5d0117ef084c",
        "infix" : false,
        "blockId" : "f4e30b3a-cc94-4328-8942-16367b87f88f",
        "pathForRead" : { }
      }
    }, {
      "clazz" : "RawCalculatedFieldOutput",
      "outputs" : [ ],
      "featureDefinition" : {
        "clazz" : "FeatureDefinition",
        "dsl" : null,
        "field" : {
          "name" : "dl",
          "nativeType" : {
            "name" : "lookup_3965bd7b-00fb-4a3f-a203-fd9a5c770710",
            "isArray" : false,
            "subFields" : [ {
              "name" : "uid",
              "nativeType" : {
                "name" : "string",
                "isArray" : false,
                "subFields" : [ ]
              }
            }, {
              "name" : "variant",
              "nativeType" : {
                "name" : "string",
                "isArray" : false,
                "subFields" : [ ]
              }
            }, {
              "name" : "start_time",
              "nativeType" : {
                "name" : "number",
                "isArray" : false,
                "subFields" : [ ]
              }
            }, {
              "name" : "device_id",
              "nativeType" : {
                "name" : "string",
                "isArray" : false,
                "subFields" : [ ]
              }
            }, {
              "name" : "device_name",
              "nativeType" : {
                "name" : "string",
                "isArray" : false,
                "subFields" : [ ]
              }
            }, {
              "name" : "kochava_id",
              "nativeType" : {
                "name" : "string",
                "isArray" : false,
                "subFields" : [ ]
              }
            }, {
              "name" : "install_time",
              "nativeType" : {
                "name" : "number",
                "isArray" : false,
                "subFields" : [ ]
              }
            }, {
              "name" : "ip_address",
              "nativeType" : {
                "name" : "string",
                "isArray" : false,
                "subFields" : [ ]
              }
            } ]
          }
        },
        "featureInputs" : [ {
          "clazz" : "FieldFeatureInput",
          "nativeType" : {
            "name" : "string",
            "isArray" : false,
            "subFields" : [ ]
          },
          "field" : {
            "name" : "data.uid",
            "nativeType" : {
              "name" : "string",
              "isArray" : false,
              "subFields" : [ ]
            }
          },
          "isAggregationField" : false,
          "isFromInline" : false
        }, {
          "clazz" : "FieldFeatureInput",
          "nativeType" : {
            "name" : "number",
            "isArray" : false,
            "subFields" : [ ]
          },
          "field" : {
            "name" : "time",
            "nativeType" : {
              "name" : "number",
              "isArray" : false,
              "subFields" : [ ]
            }
          },
          "isAggregationField" : false,
          "isFromInline" : false
        } ],
        "feature" : {
          "clazz" : "TemplateLookupFeature",
          "indexId" : "3965bd7b-00fb-4a3f-a203-fd9a5c770710",
          "aggregations" : [ {
            "clazz" : "NewIndexAggregation",
            "name" : "uid",
            "operation" : {
              "clazz" : "AggregationType$Last"
            },
            "inputFields" : [ {
              "clazz" : "FieldFeatureInput",
              "nativeType" : {
                "name" : "string",
                "isArray" : false,
                "subFields" : [ ]
              },
              "field" : {
                "name" : "data.uid",
                "nativeType" : {
                  "name" : "string",
                  "isArray" : false,
                  "subFields" : [ ]
                }
              },
              "isAggregationField" : false,
              "isFromInline" : false
            } ],
            "expirationWindow" : 14400000,
            "isKeyColumn" : true,
            "withBitmaps" : false,
            "maximumExpirationWindow" : 14400000,
            "returnType" : {
              "name" : "string",
              "isArray" : false,
              "subFields" : [ ]
            }
          }, {
            "clazz" : "NewIndexAggregation",
            "name" : "variant",
            "operation" : {
              "clazz" : "AggregationType$Last"
            },
            "inputFields" : [ {
              "clazz" : "FieldFeatureInput",
              "nativeType" : {
                "name" : "string",
                "isArray" : false,
                "subFields" : [ ]
              },
              "field" : {
                "name" : "data.variant",
                "nativeType" : {
                  "name" : "string",
                  "isArray" : false,
                  "subFields" : [ ]
                }
              },
              "isAggregationField" : false,
              "isFromInline" : false
            } ],
            "expirationWindow" : 14400000,
            "isKeyColumn" : false,
            "withBitmaps" : false,
            "maximumExpirationWindow" : 14400000,
            "returnType" : {
              "name" : "string",
              "isArray" : false,
              "subFields" : [ ]
            }
          }, {
            "clazz" : "NewIndexAggregation",
            "name" : "start_time",
            "operation" : {
              "clazz" : "AggregationType$Last"
            },
            "inputFields" : [ {
              "clazz" : "FieldFeatureInput",
              "nativeType" : {
                "name" : "number",
                "isArray" : false,
                "subFields" : [ ]
              },
              "field" : {
                "name" : "data.start_time",
                "nativeType" : {
                  "name" : "number",
                  "isArray" : false,
                  "subFields" : [ ]
                }
              },
              "isAggregationField" : false,
              "isFromInline" : false
            } ],
            "expirationWindow" : 14400000,
            "isKeyColumn" : false,
            "withBitmaps" : false,
            "maximumExpirationWindow" : 14400000,
            "returnType" : {
              "name" : "number",
              "isArray" : false,
              "subFields" : [ ]
            }
          }, {
            "clazz" : "NewIndexAggregation",
            "name" : "device_id",
            "operation" : {
              "clazz" : "AggregationType$Last"
            },
            "inputFields" : [ {
              "clazz" : "FieldFeatureInput",
              "nativeType" : {
                "name" : "string",
                "isArray" : false,
                "subFields" : [ ]
              },
              "field" : {
                "name" : "data.device_id",
                "nativeType" : {
                  "name" : "string",
                  "isArray" : false,
                  "subFields" : [ ]
                }
              },
              "isAggregationField" : false,
              "isFromInline" : false
            } ],
            "expirationWindow" : 14400000,
            "isKeyColumn" : false,
            "withBitmaps" : false,
            "maximumExpirationWindow" : 14400000,
            "returnType" : {
              "name" : "string",
              "isArray" : false,
              "subFields" : [ ]
            }
          }, {
            "clazz" : "NewIndexAggregation",
            "name" : "device_name",
            "operation" : {
              "clazz" : "AggregationType$Last"
            },
            "inputFields" : [ {
              "clazz" : "FieldFeatureInput",
              "nativeType" : {
                "name" : "string",
                "isArray" : false,
                "subFields" : [ ]
              },
              "field" : {
                "name" : "data.device_name",
                "nativeType" : {
                  "name" : "string",
                  "isArray" : false,
                  "subFields" : [ ]
                }
              },
              "isAggregationField" : false,
              "isFromInline" : false
            } ],
            "expirationWindow" : 14400000,
            "isKeyColumn" : false,
            "withBitmaps" : false,
            "maximumExpirationWindow" : 14400000,
            "returnType" : {
              "name" : "string",
              "isArray" : false,
              "subFields" : [ ]
            }
          }, {
            "clazz" : "NewIndexAggregation",
            "name" : "kochava_id",
            "operation" : {
              "clazz" : "AggregationType$Last"
            },
            "inputFields" : [ {
              "clazz" : "FieldFeatureInput",
              "nativeType" : {
                "name" : "string",
                "isArray" : false,
                "subFields" : [ ]
              },
              "field" : {
                "name" : "data.kochava_id",
                "nativeType" : {
                  "name" : "string",
                  "isArray" : false,
                  "subFields" : [ ]
                }
              },
              "isAggregationField" : false,
              "isFromInline" : false
            } ],
            "expirationWindow" : 14400000,
            "isKeyColumn" : false,
            "withBitmaps" : false,
            "maximumExpirationWindow" : 14400000,
            "returnType" : {
              "name" : "string",
              "isArray" : false,
              "subFields" : [ ]
            }
          }, {
            "clazz" : "NewIndexAggregation",
            "name" : "install_time",
            "operation" : {
              "clazz" : "AggregationType$Last"
            },
            "inputFields" : [ {
              "clazz" : "FieldFeatureInput",
              "nativeType" : {
                "name" : "number",
                "isArray" : false,
                "subFields" : [ ]
              },
              "field" : {
                "name" : "data.install_time",
                "nativeType" : {
                  "name" : "number",
                  "isArray" : false,
                  "subFields" : [ ]
                }
              },
              "isAggregationField" : false,
              "isFromInline" : false
            } ],
            "expirationWindow" : 14400000,
            "isKeyColumn" : false,
            "withBitmaps" : false,
            "maximumExpirationWindow" : 14400000,
            "returnType" : {
              "name" : "number",
              "isArray" : false,
              "subFields" : [ ]
            }
          }, {
            "clazz" : "NewIndexAggregation",
            "name" : "ip_address",
            "operation" : {
              "clazz" : "AggregationType$Last"
            },
            "inputFields" : [ {
              "clazz" : "FieldFeatureInput",
              "nativeType" : {
                "name" : "string",
                "isArray" : false,
                "subFields" : [ ]
              },
              "field" : {
                "name" : "data.ip_address",
                "nativeType" : {
                  "name" : "string",
                  "isArray" : false,
                  "subFields" : [ ]
                }
              },
              "isAggregationField" : false,
              "isFromInline" : false
            } ],
            "expirationWindow" : 14400000,
            "isKeyColumn" : false,
            "withBitmaps" : false,
            "maximumExpirationWindow" : 14400000,
            "returnType" : {
              "name" : "string",
              "isArray" : false,
              "subFields" : [ ]
            }
          } ],
          "timeOffset" : 0,
          "useLatestSnapshot" : true,
          "innerJoin" : false,
          "useMutatedIndex" : false,
          "minTime" : "2021-04-14T14:20:59.162681Z"
        },
        "inline" : true,
        "id" : "2b4869ad-faff-4d93-94b5-0d39907a369d",
        "infix" : false,
        "blockId" : "f4e30b3a-cc94-4328-8942-16367b87f88f",
        "pathForRead" : { }
      }
    }, {
      "clazz" : "RawCalculatedFieldOutput",
      "outputs" : [ {
        "name" : "country_code",
        "index" : 14,
        "warnings" : [ ],
        "originalOutput" : {
          "name" : "country_code",
          "index" : 14,
          "warnings" : [ ]
        }
      } ],
      "featureDefinition" : {
        "clazz" : "FeatureDefinition",
        "dsl" : "GEO_IP('Country Iso Code', dl.ip_address)",
        "field" : {
          "name" : "country_code",
          "nativeType" : {
            "name" : "string",
            "isArray" : false,
            "subFields" : [ ]
          }
        },
        "featureInputs" : [ {
          "clazz" : "PointerFeatureInput",
          "featureId" : "2b4869ad-faff-4d93-94b5-0d39907a369d",
          "subField" : "ip_address",
          "nativeType" : {
            "name" : "string",
            "isArray" : false,
            "subFields" : [ ]
          },
          "field" : {
            "name" : "dl.ip_address",
            "nativeType" : {
              "name" : "string",
              "isArray" : false,
              "subFields" : [ ]
            }
          },
          "isAggregationField" : false
        } ],
        "feature" : {
          "clazz" : "GeoIp",
          "attributes" : [ "Country Iso Code" ]
        },
        "inline" : false,
        "id" : "ce2be22f-a087-38e1-9174-a4ec7a801805",
        "infix" : false,
        "blockId" : "f4e30b3a-cc94-4328-8942-16367b87f88f",
        "pathForRead" : { }
      }
    }, {
      "clazz" : "RawCalculatedFieldOutput",
      "outputs" : [ {
        "name" : "start_time",
        "index" : 13,
        "warnings" : [ ],
        "originalOutput" : {
          "name" : "start_time",
          "index" : 13,
          "warnings" : [ ]
        }
      } ],
      "featureDefinition" : {
        "clazz" : "FeatureDefinition",
        "dsl" : "UNIX_EPOCH_TO_DATE(dl.start_time)",
        "field" : {
          "name" : "start_time",
          "nativeType" : {
            "name" : "instant",
            "isArray" : false,
            "subFields" : [ ]
          }
        },
        "featureInputs" : [ {
          "clazz" : "PointerFeatureInput",
          "featureId" : "2b4869ad-faff-4d93-94b5-0d39907a369d",
          "subField" : "start_time",
          "nativeType" : {
            "name" : "number",
            "isArray" : false,
            "subFields" : [ ]
          },
          "field" : {
            "name" : "dl.start_time",
            "nativeType" : {
              "name" : "number",
              "isArray" : false,
              "subFields" : [ ]
            }
          },
          "isAggregationField" : false
        } ],
        "feature" : {
          "clazz" : "NumericFeatures$EpochMillisToInstant"
        },
        "inline" : false,
        "id" : "23bf1b5a-1f54-459c-9ff5-bc47c1aaac4d",
        "infix" : false,
        "blockId" : "f4e30b3a-cc94-4328-8942-16367b87f88f",
        "pathForRead" : { }
      }
    }, {
      "clazz" : "RawOutput",
      "outputs" : [ {
        "name" : "date_time",
        "index" : 2,
        "warnings" : [ ],
        "originalOutput" : {
          "name" : "date_time",
          "index" : 2,
          "warnings" : [ ]
        }
      } ],
      "field" : {
        "clazz" : "PointerFeatureInput",
        "featureId" : "e7c78f1f-5b6d-45d4-aedb-f064f7a6e286",
        "subField" : "",
        "nativeType" : {
          "name" : "instant",
          "isArray" : false,
          "subFields" : [ ]
        },
        "field" : {
          "name" : "date_time",
          "nativeType" : {
            "name" : "instant",
            "isArray" : false,
            "subFields" : [ ]
          }
        },
        "isAggregationField" : false
      }
    }, {
      "clazz" : "RawOutput",
      "outputs" : [ {
        "name" : "item",
        "index" : 1,
        "warnings" : [ ],
        "originalOutput" : {
          "name" : "item",
          "index" : 1,
          "warnings" : [ ]
        }
      } ],
      "field" : {
        "clazz" : "FieldFeatureInput",
        "nativeType" : {
          "name" : "string",
          "isArray" : false,
          "subFields" : [ ]
        },
        "field" : {
          "name" : "data.item",
          "nativeType" : {
            "name" : "string",
            "isArray" : false,
            "subFields" : [ ]
          }
        },
        "isAggregationField" : false,
        "isFromInline" : false
      }
    }, {
      "clazz" : "RawOutput",
      "outputs" : [ {
        "name" : "uid",
        "index" : 0,
        "warnings" : [ ],
        "originalOutput" : {
          "name" : "uid",
          "index" : 0,
          "warnings" : [ ]
        }
      } ],
      "field" : {
        "clazz" : "FieldFeatureInput",
        "nativeType" : {
          "name" : "string",
          "isArray" : false,
          "subFields" : [ ]
        },
        "field" : {
          "name" : "data.uid",
          "nativeType" : {
            "name" : "string",
            "isArray" : false,
            "subFields" : [ ]
          }
        },
        "isAggregationField" : false,
        "isFromInline" : false
      }
    }, {
      "clazz" : "PartitionTimeOutput",
      "field" : {
        "clazz" : "PointerFeatureInput",
        "featureId" : "2a5bb717-4cbb-72a4-7645-ce4a347c9196",
        "subField" : "",
        "nativeType" : {
          "name" : "instant",
          "isArray" : false,
          "subFields" : [ ]
        },
        "field" : {
          "name" : "partition_date",
          "nativeType" : {
            "name" : "instant",
            "isArray" : false,
            "subFields" : [ ]
          }
        },
        "isAggregationField" : false
      },
      "isAggregated" : false,
      "outputs" : [ {
        "name" : "partition_date",
        "index" : 3,
        "warnings" : [ ],
        "originalOutput" : {
          "name" : "partition_date",
          "index" : 3,
          "warnings" : [ ]
        }
      } ]
    }, {
      "clazz" : "RawOutput",
      "outputs" : [ {
        "name" : "curr_ms",
        "index" : 4,
        "outputType" : {
          "name" : "long",
          "isArray" : false,
          "subFields" : [ ]
        },
        "warnings" : [ ],
        "originalOutput" : {
          "name" : "curr_ms",
          "index" : 4,
          "outputType" : {
            "name" : "long",
            "isArray" : false,
            "subFields" : [ ]
          },
          "warnings" : [ ]
        }
      } ],
      "field" : {
        "clazz" : "FieldFeatureInput",
        "nativeType" : {
          "name" : "number",
          "isArray" : false,
          "subFields" : [ ]
        },
        "field" : {
          "name" : "data.curr_ms",
          "nativeType" : {
            "name" : "number",
            "isArray" : false,
            "subFields" : [ ]
          }
        },
        "isAggregationField" : false,
        "isFromInline" : false
      }
    }, {
      "clazz" : "RawOutput",
      "outputs" : [ {
        "name" : "free_currency",
        "index" : 5,
        "outputType" : {
          "name" : "long",
          "isArray" : false,
          "subFields" : [ ]
        },
        "warnings" : [ ],
        "originalOutput" : {
          "name" : "free_currency",
          "index" : 5,
          "outputType" : {
            "name" : "long",
            "isArray" : false,
            "subFields" : [ ]
          },
          "warnings" : [ ]
        }
      } ],
      "field" : {
        "clazz" : "FieldFeatureInput",
        "nativeType" : {
          "name" : "number",
          "isArray" : false,
          "subFields" : [ ]
        },
        "field" : {
          "name" : "data.free_currency",
          "nativeType" : {
            "name" : "number",
            "isArray" : false,
            "subFields" : [ ]
          }
        },
        "isAggregationField" : false,
        "isFromInline" : false
      }
    }, {
      "clazz" : "RawOutput",
      "outputs" : [ {
        "name" : "instance_id",
        "index" : 6,
        "outputType" : {
          "name" : "long",
          "isArray" : false,
          "subFields" : [ ]
        },
        "warnings" : [ ],
        "originalOutput" : {
          "name" : "instance_id",
          "index" : 6,
          "outputType" : {
            "name" : "long",
            "isArray" : false,
            "subFields" : [ ]
          },
          "warnings" : [ ]
        }
      } ],
      "field" : {
        "clazz" : "FieldFeatureInput",
        "nativeType" : {
          "name" : "number",
          "isArray" : false,
          "subFields" : [ ]
        },
        "field" : {
          "name" : "data.instance_id",
          "nativeType" : {
            "name" : "number",
            "isArray" : false,
            "subFields" : [ ]
          }
        },
        "isAggregationField" : false,
        "isFromInline" : false
      }
    }, {
      "clazz" : "RawOutput",
      "outputs" : [ {
        "name" : "max_ms",
        "index" : 7,
        "outputType" : {
          "name" : "long",
          "isArray" : false,
          "subFields" : [ ]
        },
        "warnings" : [ ],
        "originalOutput" : {
          "name" : "max_ms",
          "index" : 7,
          "outputType" : {
            "name" : "long",
            "isArray" : false,
            "subFields" : [ ]
          },
          "warnings" : [ ]
        }
      } ],
      "field" : {
        "clazz" : "FieldFeatureInput",
        "nativeType" : {
          "name" : "number",
          "isArray" : false,
          "subFields" : [ ]
        },
        "field" : {
          "name" : "data.max_ms",
          "nativeType" : {
            "name" : "number",
            "isArray" : false,
            "subFields" : [ ]
          }
        },
        "isAggregationField" : false,
        "isFromInline" : false
      }
    }, {
      "clazz" : "RawOutput",
      "outputs" : [ {
        "name" : "paid_currency",
        "index" : 8,
        "outputType" : {
          "name" : "long",
          "isArray" : false,
          "subFields" : [ ]
        },
        "warnings" : [ ],
        "originalOutput" : {
          "name" : "paid_currency",
          "index" : 8,
          "outputType" : {
            "name" : "long",
            "isArray" : false,
            "subFields" : [ ]
          },
          "warnings" : [ ]
        }
      } ],
      "field" : {
        "clazz" : "FieldFeatureInput",
        "nativeType" : {
          "name" : "number",
          "isArray" : false,
          "subFields" : [ ]
        },
        "field" : {
          "name" : "data.paid_currency",
          "nativeType" : {
            "name" : "number",
            "isArray" : false,
            "subFields" : [ ]
          }
        },
        "isAggregationField" : false,
        "isFromInline" : false
      }
    }, {
      "clazz" : "RawOutput",
      "outputs" : [ {
        "name" : "quantity",
        "index" : 9,
        "outputType" : {
          "name" : "long",
          "isArray" : false,
          "subFields" : [ ]
        },
        "warnings" : [ ],
        "originalOutput" : {
          "name" : "quantity",
          "index" : 9,
          "outputType" : {
            "name" : "long",
            "isArray" : false,
            "subFields" : [ ]
          },
          "warnings" : [ ]
        }
      } ],
      "field" : {
        "clazz" : "FieldFeatureInput",
        "nativeType" : {
          "name" : "number",
          "isArray" : false,
          "subFields" : [ ]
        },
        "field" : {
          "name" : "data.quantity",
          "nativeType" : {
            "name" : "number",
            "isArray" : false,
            "subFields" : [ ]
          }
        },
        "isAggregationField" : false,
        "isFromInline" : false
      }
    }, {
      "clazz" : "RawOutput",
      "outputs" : [ {
        "name" : "remaining_currency",
        "index" : 10,
        "outputType" : {
          "name" : "long",
          "isArray" : false,
          "subFields" : [ ]
        },
        "warnings" : [ ],
        "originalOutput" : {
          "name" : "remaining_currency",
          "index" : 10,
          "outputType" : {
            "name" : "long",
            "isArray" : false,
            "subFields" : [ ]
          },
          "warnings" : [ ]
        }
      } ],
      "field" : {
        "clazz" : "FieldFeatureInput",
        "nativeType" : {
          "name" : "number",
          "isArray" : false,
          "subFields" : [ ]
        },
        "field" : {
          "name" : "data.remaining_currency",
          "nativeType" : {
            "name" : "number",
            "isArray" : false,
            "subFields" : [ ]
          }
        },
        "isAggregationField" : false,
        "isFromInline" : false
      }
    }, {
      "clazz" : "RawOutput",
      "outputs" : [ {
        "name" : "source",
        "index" : 11,
        "warnings" : [ ],
        "originalOutput" : {
          "name" : "source",
          "index" : 11,
          "warnings" : [ ]
        }
      } ],
      "field" : {
        "clazz" : "FieldFeatureInput",
        "nativeType" : {
          "name" : "string",
          "isArray" : false,
          "subFields" : [ ]
        },
        "field" : {
          "name" : "data.source",
          "nativeType" : {
            "name" : "string",
            "isArray" : false,
            "subFields" : [ ]
          }
        },
        "isAggregationField" : false,
        "isFromInline" : false
      }
    }, {
      "clazz" : "RawOutput",
      "outputs" : [ {
        "name" : "variant",
        "index" : 12,
        "warnings" : [ ],
        "originalOutput" : {
          "name" : "variant",
          "index" : 12,
          "warnings" : [ ]
        }
      } ],
      "field" : {
        "clazz" : "PointerFeatureInput",
        "featureId" : "2b4869ad-faff-4d93-94b5-0d39907a369d",
        "subField" : "variant",
        "nativeType" : {
          "name" : "string",
          "isArray" : false,
          "subFields" : [ ]
        },
        "field" : {
          "name" : "dl.variant",
          "nativeType" : {
            "name" : "string",
            "isArray" : false,
            "subFields" : [ ]
          }
        },
        "isAggregationField" : false
      }
    } ],
    "softRetention" : false,
    "partitionSize" : "Daily",
    "path" : "",
    "compression" : {
      "clazz" : "SnappyCompression",
      "extension" : "snappy",
      "headerOffset" : 0,
      "displayName" : "Snappy"
    },
    "mandatory" : {
      "clazz" : "CompositeHiveMetastoreMandatory",
      "s3Connection" : "9a50b066-44ab-4fb3-bdb2-e21636425647",
      "hiveMetastores" : [ {
        "clazz" : "AthenaMetastoreArgs",
        "connection" : "d083bc39-f592-444f-9217-c173df5ee609",
        "databaseName" : "upsolverdb",
        "tableName" : "mq_an_inventory_purchase"
      } ]
    },
    "compactionParallelism" : {
      "clazz" : "NoOperationParallelism"
    },
    "selectedOutputType" : "AthenaMetastoreArgs",
    "runCompactions" : true,
    "scheduledCompactions" : {
      "compactions" : [ ]
    },
    "upsertPartitionFields" : false,
    "shouldFlatten" : true,
    "allowNotPartitionedTable" : false
  },
  "outputInterval" : 1,
  "startExecutionFrom" : "2021-04-13T10:35:55.405468Z",
  "allowCartesianProducts" : false,
  "isDeleted" : true,
  "isRunning" : false,
  "deployedEver" : true,
  "connectionPointer" : "9a50b066-44ab-4fb3-bdb2-e21636425647",
  "link" : {
    "parentId" : "ee2b1f5b-eecb-4a50-b218-84e4b2c13035",
    "rootId" : "ee2b1f5b-eecb-4a50-b218-84e4b2c13035",
    "currentVersion" : 2,
    "isCorrection" : false
  },
  "physicalDelete" : {
    "initiated" : true,
    "shouldRun" : false
  },
  "version" : 58,
  "allowRenaming" : true,
  "operationParallelism" : {
    "clazz" : "NoOperationParallelism"
  },
  "outputSharding" : {
    "clazz" : "NoOperationParallelism"
  },
  "earliestStartExecutionFrom" : "2021-04-13T10:35:55.405468Z",
  "executionState" : {
    "clazz" : "ExecutionState$Running"
  },
  "workspaces" : [ ],
  "reportingTags" : "",
  "blocks" : [ {
    "id" : "f4e30b3a-cc94-4328-8942-16367b87f88f",
    "title" : "Select Block",
    "expression" : "SET event_time = UNIX_EPOCH_TO_DATE(time);\nSET partition_date = UNIX_EPOCH_TO_DATE(time);\nSET date_time = UNIX_EPOCH_TO_DATE(data.date_time);\nSET country_code = GEO_IP('Country Iso Code', dl.ip_address);\nSET platform = CASE  WHEN CONTAINS(data.uid, 'Android') THEN 'Google' WHEN CONTAINS(data.uid, 'Amazon') THEN 'Amazon' WHEN CONTAINS(data.uid, 'fb') THEN 'Browser' WHEN CONTAINS(data.uid, 'IP') THEN 'Apple' END;\nSET start_time = UNIX_EPOCH_TO_DATE(dl.start_time);\n// GENERATED @ 2021-04-14T03:45:23.843561Z\nSELECT data.uid AS uid,\n       data.item AS item,\n       date_time AS date_time,\n       PARTITION_TIME(partition_date) AS partition_date,\n       data.curr_ms AS curr_ms:BIGINT,\n       data.free_currency AS free_currency:BIGINT,\n       data.instance_id AS instance_id:BIGINT,\n       data.max_ms AS max_ms:BIGINT,\n       data.paid_currency AS paid_currency:BIGINT,\n       data.quantity AS quantity:BIGINT,\n       data.remaining_currency AS remaining_currency:BIGINT,\n       data.source AS source,\n       dl.variant AS variant,\n       start_time AS start_time,\n       country_code AS country_code:STRING,\n       platform AS platform:STRING\n  FROM \"mq_inventory_purchase\" LEFT JOIN LATEST mq_device_lookup dl ON dl.uid = data.uid \n    REPLACE ON DUPLICATE date_time, data.item, data.uid\n",
    "dslWarnings" : [ ],
    "isSelectBlock" : true
  } ],
  "groupByDeletion" : true,
  "eventTypes" : [ ],
  "inputInterval" : 1,
  "restrictions" : [ ],
  "status" : {
    "clazz" : "Archived"
  },
  "shards" : 1,
  "outputShards" : 1,
  "hasAggregations" : false,
  "allReferences" : [ "3965bd7b-00fb-4a3f-a203-fd9a5c770710", "3a7aa57c-b572-46b6-8eba-0bc7ef07a86c" ],
  "versionNumber" : 2
}